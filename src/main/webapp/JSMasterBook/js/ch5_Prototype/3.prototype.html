<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>객체의 정의</title>
</head>
<body>
<pre>
<script type="text/javascript">
    <!--

    var Member = function (firstName, lastName) {
        this.firstName = firstName;
        this.lastName = lastName;
    };

    //인스턴스화 이후에 메서드를 추가해도 괜찮음
    var Member = function (firstName, lastName) {
        this.firstName = firstName;
        this.lastName = lastName;
    };
    var mem = new Member('요시히로', '야마다');
    Member.prototype.getName = function () {
        return this.lastName + ' ' + this.firstName;
    };
    document.writeln(mem.getName());

    //매서드는 prototype property를 사용하자
    // - this.getName으로 정의하면 인스턴스화할때마다 각각의 메모리를 확보하는 이유
    // - Member.prototype.getName을 사용하면 prototype의 참조만을 가지고 있음
    Member.prototype.getName = function () {
        return this.lastName + ' ' + this.firstName;
    };

    var mem = new Member('요시히로', '야마다');
    document.writeln(mem.getName());

    //프로퍼티의 설정
    var Member = function () {
    };
    Member.prototype.sex = '남자';

    var mem1 = new Member();
    var mem2 = new Member();
    document.writeln(mem1.sex + '|' + mem2.sex); //남자 | 남자

    //(프로타입이 아닌)인스턴스 mem2에 대하여 sex 프로퍼티를 추가
    mem2.sex = '여자';
    document.writeln(mem1.sex + '|' + mem2.sex); //남자 | 여자

    //정적 프로퍼티/정적 메서드 정의
    // - 인스턴스를 생성하지 않아도 객체로부터 직접 호출할 수 있는 프로퍼티/메서드
    // - 정적 프로퍼티/메서드를 정의하는 경우 프로포타입 객체에는 등록할 수 없음
    //   다음과 같이 직접 추가해야 함
    // 언제 사용?
    // 1.정적 프로퍼티는 기본적으로 읽기 전용
    // 2.정적 메서드안에서는 this 키워드를 사용할 수 없
    var Area = function () {
    };

    Area.version = '1.0'; //정적 프로퍼티의 정의

    //정적 메서드의 정의
    Area.triangle = function (base, height) {
        return base * height / 2;
    }
    Area.diamond = function (width, height) {
        return width * height / 2
    }

    document.writeln('Area클래스의 버전：' + Area.version);
    document.writeln('삼각형의 면적：' + Area.triangle(5, 3));
    var a = new Area();

    //에러 (객체가 이 속성 또는 이 메소드를 지원하지 않습니다.)
    //    document.writeln('마름모의 면적：' + a.diamond(10, 2));

    //프로퍼티 삭제
    var Member = function () {
    };

    Member.prototype.sex = '남자';

    var mem1 = new Member();
    var mem2 = new Member();
    document.writeln(mem1.sex + '|' + mem2.sex);
    mem2.sex = '여자';
    document.writeln(mem1.sex + '|' + mem2.sex);
    delete mem1.sex
    delete mem2.sex
    document.writeln(mem1.sex + '|' + mem2.sex);

    //key iterating
    var Member = function () {
    };
    Member.prototype.sex = '남자';
    Member.prototype.name = 'Frank';

    var mem = new Member();
    //    mem.sex = undefined;
    for (var key in mem) {
        document.writeln(key + ":" + mem[key]);
    }

    //-->
</script>
</pre>
</body>
</html>